<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>환경 MBTI 테스트 (교육용)</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #7F7FD5 0%, #86A8E7 50%, #91EAE4 100%);
      min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      padding: 20px;
    }
    .container {
      background: #fff; border-radius: 20px; overflow: hidden;
      width: 100%; max-width: 720px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.12);
    }
    .header {
      background: linear-gradient(135deg, #22c55e, #0ea5e9);
      color: #fff; padding: 28px; text-align: center;
    }
    .header h1 { font-size: 2rem; margin-bottom: 6px; }
    .header p { opacity: .95; }
    .content { padding: 26px; }
    .progress { width: 100%; height: 8px; background: #eef2f7; border-radius: 999px; overflow: hidden; }
    .progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg,#22c55e,#0ea5e9); transition: width .3s ease; }
    .question { display: none; margin: 26px 0 10px; }
    .question.active { display: block; }
    .question h3 { font-size: 1.2rem; margin-bottom: 14px; color: #111827; line-height: 1.6; }
    .options { display: grid; gap: 14px; }
    .option {
      position: relative; padding: 18px 18px 18px 48px;
      border: 2px solid #e5e7eb; border-radius: 14px;
      background: #f9fafb; cursor: pointer; transition: .2s ease;
    }
    .option:hover { border-color: #22c55e; background: #f0fdf4; transform: translateY(-1px); }
    .option.selected { border-color: #22c55e; background: #ecfeff; }
    .option-letter {
      position: absolute; left: 12px; top: 12px;
      width: 28px; height: 28px; border-radius: 999px;
      display: grid; place-items: center; font-weight: 700; font-size: 13px;
      color: #fff; background: #22c55e;
    }
    .navigation { display: flex; gap: 12px; margin-top: 20px; }
    .navigation .spacer { flex: 1; }
    .btn {
      border: none; border-radius: 999px; padding: 12px 22px;
      font-size: 15px; cursor: pointer; transition: .2s ease; font-weight: 600;
    }
    .btn-primary { color: #fff; background: linear-gradient(135deg,#22c55e,#0ea5e9); }
    .btn-primary:hover { box-shadow: 0 6px 16px rgba(14,165,233,.35); transform: translateY(-1px); }
    .btn-secondary { background: #9ca3af; color: #fff; }
    .btn:disabled { opacity: .5; cursor: not-allowed; }
    .result { display: none; text-align: center; padding: 10px 0 0; }
    .result.active { display: block; }
    .result-image {
      width: 180px; height: 180px; border-radius: 999px; margin: 18px auto;
      display: grid; place-items: center; font-size: 72px; border: 6px solid #22c55e; background: #f8fafc;
    }
    .result-title { font-size: 1.8rem; color: #111827; margin: 12px 0 10px; }
    .result-description { color: #334155; line-height: 1.7; margin-bottom: 12px; }
    .result-traits {
      background: #f9fafb; border-radius: 16px; padding: 18px; text-align: left; color: #111827;
      margin-top: 12px;
    }
    .trait-item { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px dashed #e5e7eb; }
    .trait-item:last-child { border-bottom: none; }
    .footer-hint { margin-top: 14px; color: #64748b; font-size: .9rem; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🌿 환경 MBTI 테스트 (교육용)</h1>
      <p>나는 자연 속 어떤 캐릭터일까?</p>
    </div>
    <div class="content">
      <div class="progress"><div class="progress-bar" id="progressBar"></div></div>

      <!-- Questions (8) -->
      <div class="question active" data-question="0">
        <h3>🌱 새로운 환경에서 어떻게 적응하나요?</h3>
        <div class="options">
          <div class="option" data-value="E"><div class="option-letter">E</div>주변 사람들과 적극적으로 소통하며 빠르게 적응한다</div>
          <div class="option" data-value="I"><div class="option-letter">I</div>혼자만의 시간을 가지며 천천히 관찰 후 적응한다</div>
        </div>
      </div>

      <div class="question" data-question="1">
        <h3>🌿 자연에서 정보를 얻을 때 어떤 방식을 선호하나요?</h3>
        <div class="options">
          <div class="option" data-value="S"><div class="option-letter">S</div>오감으로 직접 체험하고 구체적인 사실을 수집한다</div>
          <div class="option" data-value="N"><div class="option-letter">N</div>연결과 패턴, 상징을 떠올리며 큰 흐름을 본다</div>
        </div>
      </div>

      <div class="question" data-question="2">
        <h3>🌳 환경 문제에 대한 결정을 내릴 때?</h3>
        <div class="options">
          <div class="option" data-value="T"><div class="option-letter">T</div>데이터와 논리, 효율을 바탕으로 판단한다</div>
          <div class="option" data-value="F"><div class="option-letter">F</div>사람과 자연에 미칠 정서적 영향과 가치를 고려한다</div>
        </div>
      </div>

      <div class="question" data-question="3">
        <h3>🌸 계절 변화에 어떻게 반응하나요?</h3>
        <div class="options">
          <div class="option" data-value="J"><div class="option-letter">J</div>미리 계획을 세우고 체계적으로 준비한다</div>
          <div class="option" data-value="P"><div class="option-letter">P</div>상황에 맞게 유연하게 조정하며 적응한다</div>
        </div>
      </div>

      <div class="question" data-question="4">
        <h3>🦋 자연 속에서 에너지를 얻는 방식은?</h3>
        <div class="options">
          <div class="option" data-value="E"><div class="option-letter">E</div>다른 사람들과 함께 움직이며 시너지를 낸다</div>
          <div class="option" data-value="I"><div class="option-letter">I</div>고요한 공간에서 홀로 머물며 재충전한다</div>
        </div>
      </div>

      <div class="question" data-question="5">
        <h3>🌺 식물을 관찰할 때 주로 무엇에 집중하나요?</h3>
        <div class="options">
          <div class="option" data-value="S"><div class="option-letter">S</div>잎·줄기·뿌리 등 구체적 특징과 현재 상태</div>
          <div class="option" data-value="N"><div class="option-letter">N</div>상징성, 생태적 역할, 미래의 가능성</div>
        </div>
      </div>

      <div class="question" data-question="6">
        <h3>🌊 환경 보호 활동에서 더 중요한 것은?</h3>
        <div class="options">
          <div class="option" data-value="T"><div class="option-letter">T</div>과학적 근거, 비용-효과, 실행 가능성</div>
          <div class="option" data-value="F"><div class="option-letter">F</div>공감, 참여의 즐거움, 공동체의 만족</div>
        </div>
      </div>

      <div class="question" data-question="7">
        <h3>🍃 자연 활동을 계획할 때?</h3>
        <div class="options">
          <div class="option" data-value="J"><div class="option-letter">J</div>체크리스트와 일정에 맞춰 진행한다</div>
          <div class="option" data-value="P"><div class="option-letter">P</div>현장 상황을 보며 즉흥적으로 결정한다</div>
        </div>
      </div>

      <!-- Nav -->
      <div class="navigation">
        <button class="btn btn-secondary" id="prevBtn" onclick="prevQuestion()" disabled>이전</button>
        <div class="spacer"></div>
        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>다음</button>
      </div>

      <!-- Result -->
      <div class="result" id="result">
        <div class="result-image" id="resultImage"></div>
        <div class="result-title" id="resultTitle"></div>
        <div class="result-description" id="resultDescription"></div>
        <div class="result-traits" id="resultTraits"></div>
        <p class="footer-hint">다른 유형 친구들과 팀을 이뤄 환경 프로젝트 역할을 나눠보세요!</p>
        <div style="margin-top:14px;">
          <button class="btn btn-primary" onclick="restart()">다시 테스트하기</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentQuestion = 0;
    let answers = {};
    const totalQuestions = 8;

    // Education-oriented character mapping
    const results = {
      'ISTJ': {
        name: '느티나무', emoji: '🌳',
        description: '한 자리에 깊게 뿌리내려 숲을 지키는 전통 수호자. 변함없는 성실함과 책임감으로 프로젝트의 기준을 세웁니다.',
        traits: '신뢰성 ★★★★★<br>책임감 ★★★★★<br>계획성 ★★★★☆<br>유연성 ★★☆☆☆'
      },
      'ISFJ': {
        name: '산비둘기', emoji: '🕊️',
        description: '조용하지만 꾸준히 생태계의 균형을 돕는 평화 메신저. 돌봄과 협력으로 팀을 안정시킵니다.',
        traits: '배려심 ★★★★★<br>협조성 ★★★★☆<br>책임감 ★★★★☆<br>주도성 ★★☆☆☆'
      },
      'INFJ': {
        name: '향나무', emoji: '🌲',
        description: '오래 바라보고 미래를 설계하는 비전가. 숲의 이야기를 읽어내며 장기적인 변화를 준비합니다.',
        traits: '직관력 ★★★★★<br>이상주의 ★★★★★<br>기획력 ★★★★☆<br>현실성 ★★★☆☆'
      },
      'INTJ': {
        name: '매', emoji: '🦅',
        description: '먼 곳의 목표를 정밀하게 포착하는 전략가. 분석과 설계에 강하며 장기 로드맵을 그립니다.',
        traits: '전략성 ★★★★★<br>독립성 ★★★★★<br>계획성 ★★★★☆<br>사교성 ★★☆☆☆'
      },
      'ISTP': {
        name: '수달', emoji: '🦦',
        description: '물과 육지를 자유롭게 넘나드는 실용가. 현장 문제를 빠르게 파악하고 손으로 해결합니다.',
        traits: '실용성 ★★★★★<br>적응력 ★★★★☆<br>신속성 ★★★★☆<br>계획성 ★★☆☆☆'
      },
      'ISFP': {
        name: '들국화', emoji: '🌼',
        description: '조용히 주변을 아름답게 변화시키는 자연 예술가. 섬세한 감각으로 공간을 따뜻하게 만듭니다.',
        traits: '예술성 ★★★★★<br>공감능력 ★★★★☆<br>평화성 ★★★★☆<br>주도성 ★★☆☆☆'
      },
      'INFP': {
        name: '고사리', emoji: '🌿',
        description: '그늘에서도 싹을 틔워 숲의 순환과 치유를 돕는 이상주의자. 진정성과 가치 중심의 선택을 합니다.',
        traits: '진정성 ★★★★★<br>공감능력 ★★★★☆<br>창의성 ★★★★☆<br>현실성 ★★★☆☆'
      },
      'INTP': {
        name: '부엉이', emoji: '🦉',
        description: '밤에도 생태를 관찰하는 사색가. 원리와 구조를 탐구하며 새로운 개념을 설계합니다.',
        traits: '호기심 ★★★★★<br>분석력 ★★★★★<br>독립성 ★★★★☆<br>실행력 ★★☆☆☆'
      },
      'ESTP': {
        name: '물총새', emoji: '🐦',
        description: '순간의 기회를 놓치지 않는 모험가. 현장에서 바로 행동하며 활력을 불어넣습니다.',
        traits: '활동성 ★★★★★<br>적응력 ★★★★★<br>사교성 ★★★★☆<br>계획성 ★★☆☆☆'
      },
      'ESFP': {
        name: '해바라기', emoji: '🌻',
        description: '밝은 에너지로 모두를 끌어당기는 분위기 메이커. 참여의 즐거움을 확산시킵니다.',
        traits: '친화성 ★★★★★<br>표현력 ★★★★☆<br>낙천성 ★★★★★<br>집중력 ★★☆☆☆'
      },
      'ENFP': {
        name: '바람꽃', emoji: '🌸',
        description: '변화의 바람을 타고 아이디어를 퍼뜨리는 촉진자. 상상력으로 새로운 가능성을 여니다.',
        traits: '창의성 ★★★★★<br>사교성 ★★★★★<br>열정 ★★★★☆<br>지속력 ★★★☆☆'
      },
      'ENTP': {
        name: '종다리', emoji: '🐦',
        description: '끝없이 새로운 방식을 시도하는 혁신가. 시야를 넓혀 팀에 실험정신을 불어넣습니다.',
        traits: '창의성 ★★★★★<br>적응력 ★★★★★<br>토론력 ★★★★☆<br>집중력 ★★★☆☆'
      },
      'ESTJ': {
        name: '개미', emoji: '🐜',
        description: '정확한 분업과 조직력으로 프로젝트를 완수하는 실행형 리더. 기준과 절차를 중시합니다.',
        traits: '조직력 ★★★★★<br>실행력 ★★★★★<br>책임감 ★★★★☆<br>유연성 ★★☆☆☆'
      },
      'ESFJ': {
        name: '사슴', emoji: '🦌',
        description: '조화를 중시하며 모두가 안전하게 참여하도록 돕는 조정자. 돌봄과 배려가 뛰어납니다.',
        traits: '배려심 ★★★★★<br>협동 ★★★★★<br>사교성 ★★★★☆<br>단호함 ★★☆☆☆'
      },
      'ENFJ': {
        name: '꿀벌', emoji: '🐝',
        description: '사람과 자연을 연결하는 네트워커. 공동의 목표를 향해 모두를 이끕니다.',
        traits: '공감능력 ★★★★★<br>리더십 ★★★★☆<br>조직력 ★★★★☆<br>객관성 ★★★☆☆'
      },
      'ENTJ': {
        name: '독수리', emoji: '🦅',
        description: '넓은 시야와 강한 추진력으로 전략을 이끄는 총괄 리더. 큰 목표를 설정하고 달성합니다.',
        traits: '리더십 ★★★★★<br>추진력 ★★★★★<br>전략성 ★★★★★<br>포용력 ★★★☆☆'
      }
    };

    function updateProgress() {
      const progress = ((currentQuestion + 1) / totalQuestions) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    function selectOption(el) {
      const question = el.closest('.question');
      question.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      el.classList.add('selected');
      const idx = Number(question.dataset.question);
      answers[idx] = el.dataset.value;
      document.getElementById('nextBtn').disabled = false;
    }

    function nextQuestion() {
      if (currentQuestion < totalQuestions - 1) {
        document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
        currentQuestion++;
        document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
        document.getElementById('prevBtn').disabled = currentQuestion === 0;
        document.getElementById('nextBtn').textContent = currentQuestion === totalQuestions - 1 ? '결과 보기' : '다음';
        document.getElementById('nextBtn').disabled = !answers[currentQuestion];
        updateProgress();
      } else {
        showResult();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
        currentQuestion--;
        document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
        document.getElementById('prevBtn').disabled = currentQuestion === 0;
        document.getElementById('nextBtn').textContent = '다음';
        document.getElementById('nextBtn').disabled = !answers[currentQuestion];
        updateProgress();
      }
    }

    function calculateResult() {
      const counts = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
      Object.values(answers).forEach(v => counts[v]++);
      return (counts.E >= counts.I ? 'E' : 'I')
           + (counts.S >= counts.N ? 'S' : 'N')
           + (counts.T >= counts.F ? 'T' : 'F')
           + (counts.J >= counts.P ? 'J' : 'P');
    }

    function showResult() {
      const type = calculateResult();
      const r = results[type];
      document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));
      document.querySelector('.navigation').style.display = 'none';
      document.querySelector('.progress').style.display = 'none';
      document.getElementById('resultImage').textContent = r.emoji || '🌿';
      document.getElementById('resultTitle').textContent = `${type} · ${r.name}`;
      document.getElementById('resultDescription').textContent = r.description;
      document.getElementById('resultTraits').innerHTML = r.traits;
      document.getElementById('result').classList.add('active');
    }

    function restart() {
      currentQuestion = 0; answers = {};
      document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));
      document.querySelector('[data-question="0"]').classList.add('active');
      document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      document.querySelector('.navigation').style.display = 'flex';
      document.querySelector('.progress').style.display = 'block';
      document.getElementById('prevBtn').disabled = true;
      document.getElementById('nextBtn').disabled = true;
      document.getElementById('nextBtn').textContent = '다음';
      updateProgress();
    }

    // Bind options
    document.querySelectorAll('.option').forEach(o => {
      o.addEventListener('click', function(){ selectOption(this); });
    });

    updateProgress();
  </script>
</body>
</html>
